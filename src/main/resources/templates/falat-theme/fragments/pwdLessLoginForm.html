<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    <title>Login Form Fragment</title>
    <link href="../../static/css/cas.css" rel="stylesheet" th:remove="tag"/>
</head>

<body>
<main role="main" class="container mt-3 mb-3">
    <!-- Login form template begins here -->
    <div th:fragment="pwdLessLoginForm" class="d-flex flex-column justify-content-between m-auto">
	<p class="servicepl-login">ورود با استفاده از یک رمز پویا (زمان دار و یک بار مصرف) انجام می پذیرد. پس از کلیک بر روی دریافت رمز پویا، یک رمز پویای 6 رقمی از طریق پیامک/ایمیل برای شما ارسال خواهد شد که تنها 120 ثانیه اعتبار خواهد داشت. با ورود رمز دریافتی، می توانید وارد شوید.</p>
        <div class="form-wrapper">
            <form method="post" id="fm2" th:object="${credential}" action="login">


                <section class="cas-field">

                    <div th:replace="fragments/recaptcha :: recaptchaToken"/>

                    <input type="hidden" name="execution" th:value="${flowExecutionKey}"/>
                    <input type="hidden" name="_eventId" value="startPwdLess"/>
                    <input type="hidden" name="geolocation"/>

                    <p th:if="${#request.getMethod().equalsIgnoreCase('POST')}">
                            <span th:each="entry : ${httpRequestInitialPostParameters}" th:remove="tag">
                                <span th:each="entryValue : ${entry.value}" th:remove="tag">
                                    <input type="hidden" th:name="${entry.key}" th:value="${entryValue}"/>
                                </span>
                            </span>
                    </p>
                </section>

                <div th:replace="fragments/submitbutton :: submitButton (messageKey='screen.welcome.button.pwdlesslogin')"/>

            </form>

        </div>
    </div>
    </div>
</main>
</body>
